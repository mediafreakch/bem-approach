"use strict";

var
  // Important note: in a local you should never nest key objects.
  // Means a key for a local always have to be on the top level because
  // of lacking deep nesting for extending locals (which is on purpose because
  // of performance reasons).
  locals = require('app_localization');

var
  state = {
    locals
  },
  
  mutations = {
    EXTEND_LOCALS: ( state, localsToExtend ) => {
      var local;
      for ( var key in localsToExtend ) {
        if ( localsToExtend.hasOwnProperty( key ) ) {
          local = localsToExtend[key];
          Object.assign( state.locals[ local.id ], local )
        }
      }
    }
  };

module.exports = {
  state,
  mutations,
  locals
};