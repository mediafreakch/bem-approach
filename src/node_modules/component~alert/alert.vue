<style lang="less">
  @import "./style/index.less";
</style>

<template>

  <div class="alert {{alertVariant}}{{modifiers}} clearfix" v-if="!hidden" transition="expand">
    <div class="alert_content">
      <div class="alert_text">
        <slot name="text"></slot>
      </div>
      <div class="alert_button">
        <slot name="button"></slot>
      </div>
    </div>
    <div class="alert_icon" v-if="icon">
      <span class="icon icon-{{icon}}"></span>
    </div>
    <div class="alert_icon" v-if="closable">
      <span class="icon icon-closeThin" v-on:click="close()"></span>
    </div>
  </div>

</template>

<script>

  var elements = require( 'elements' );

  module.exports = {
    props: [ 'type', 'content', 'closable', 'icon', 'button', 'hidden'],
    computed: {
      alertVariant: function() {
        return 'alert-' + this.type;
      },
      modifiers: function() {
        var
            closable = this.closable ? ' alert-closable ' : '',
            hasIcon = this.icon ? ' alert-hasIcon ' : '',
            hasButton = this.button ? ' alert-hasButton ' : '';

        return closable + hasIcon + hasButton;
      }
    },
    methods: {
      close: function() {
        this.hidden = true;
      }
    }
  }

</script>
